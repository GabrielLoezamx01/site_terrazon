{"version":3,"file":"/js/gallery.js","mappings":"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","sources":["webpack:///./resources/js/gallery.js"],"sourcesContent":["(function () {\r\n\r\n    Gallery = {\r\n        dom: {},\r\n        width: 0,\r\n        height: 0,\r\n        // config: {\r\n        //     minWidth: 300,\r\n        //     minHeight: 300,\r\n        //     horizontalPadding: 80,\r\n        //     verticalPadding: 80,\r\n        //     leftArea: 0.20,\r\n        //     prefecth: 5\r\n        // },\r\n        config: {\r\n            minWidth: 300,\r\n            minHeight: 300,\r\n            horizontalPadding: 20, // Reducido para móviles\r\n            verticalPadding: 20, // Reducido para móviles\r\n            leftArea: 0.3, // Aumentado para facilitar el toque\r\n            prefetch: 3 // Reducido para ahorrar datos en móviles\r\n        },\r\n\r\n        initDom: function () {\r\n            Gallery.dom.overlay = e('div', 'gallery-overlay', document.body);\r\n            Gallery.dom.overlay.addEventListener('click', Gallery.close);\r\n\r\n            Gallery.dom.outer = e('div', 'gallery-outer', document.body);\r\n            Gallery.dom.inner = e('div', 'gallery-inner', Gallery.dom.outer);\r\n\r\n            Gallery.dom.screen = e('div', 'gallery-screen', Gallery.dom.inner);\r\n            Gallery.dom.screen.addEventListener('mousemove', Gallery.mousemove);\r\n            Gallery.dom.screen.addEventListener('click', Gallery.click);\r\n\r\n            Gallery.dom.left = e('div', 'gallery-left', Gallery.dom.screen);\r\n            Gallery.dom.right = e('div', 'gallery-right', Gallery.dom.screen);\r\n            Gallery.dom.image = e('img', 'gallery-image', Gallery.dom.screen);\r\n\r\n            Gallery.dom.fullscreen = e('div', 'gallery-fullscreen', Gallery.dom.screen);\r\n            Gallery.dom.fullscreen.addEventListener('click', Gallery.fullscreen);\r\n            if (!canFullScreen()) {\r\n                Gallery.dom.fullscreen.style.display = 'none';\r\n            }\r\n\r\n\r\n          \r\n            Gallery.dom.bottombar = e('div', 'gallery-bottombar', Gallery.dom.screen);\r\n            Gallery.dom.count = e('span', 'gallery-count', Gallery.dom.bottombar);\r\n            Gallery.dom.close = e('a', 'gallery-close', Gallery.dom.bottombar);\r\n            Gallery.dom.close.innerHTML = 'Cerrar';\r\n            Gallery.dom.close.href = 'javascript:;';\r\n            Gallery.dom.close.addEventListener('click', Gallery.close);\r\n\r\n            Gallery.dom.original = e('a', 'gallery-original', Gallery.dom.bottombar);\r\n            Gallery.dom.original.target = '_blank';\r\n            Gallery.dom.original.innerHTML = 'Original';\r\n\r\n              // zoom\r\n\r\n              Gallery.dom.zoomControls = e('div', 'gallery-zoom-controls', Gallery.dom.screen);\r\n              Gallery.dom.zoomIn = e('button', 'gallery-zoom-in', Gallery.dom.bottombar);\r\n              Gallery.dom.zoomIn.innerHTML = '+';\r\n              Gallery.dom.zoomIn.addEventListener('click', function(event) {\r\n                event.stopPropagation();\r\n                Gallery.zoom(1.5);\r\n              });\r\n          \r\n              Gallery.dom.zoomOut = e('button', 'gallery-zoom-out', Gallery.dom.bottombar);\r\n              Gallery.dom.zoomOut.innerHTML = '-';\r\n              Gallery.dom.zoomOut.addEventListener('click', function(event) {\r\n                event.stopPropagation();\r\n                Gallery.zoom(1/1.5);\r\n              });\r\n  \r\n              //\r\n\r\n\r\n            Gallery.dom.img = document.createElement('img');\r\n            Gallery.dom.img.onload = function () {\r\n                Gallery.dom.image.src = Gallery.images[Gallery.current].href;\r\n                Gallery.dom.image.style.display = 'block';\r\n                Gallery.resize();\r\n            };\r\n\r\n            Gallery.dom.screen.addEventListener('touchstart', Gallery.touchstart, {\r\n                passive: false\r\n            });\r\n            Gallery.dom.screen.addEventListener('touchmove', Gallery.touchmove, {\r\n                passive: false\r\n            });\r\n            Gallery.dom.screen.addEventListener('touchend', Gallery.touchend);\r\n\r\n            window.addEventListener('orientationchange', Gallery.resize);\r\n            window.addEventListener('resize', Gallery.resize);\r\n            window.addEventListener('keydown', function (event) {\r\n                if (Gallery.dom.overlay.style.display !== 'block') {\r\n                    // Don't do anything when the gallery isn't displayed\r\n                    return;\r\n                }\r\n\r\n                // Right\r\n                if (event.keyCode === 39) {\r\n                    Gallery.change(+1);\r\n                }\r\n\r\n                // Left\r\n                if (event.keyCode === 37) {\r\n                    Gallery.change(-1);\r\n                }\r\n\r\n                // Escape\r\n                if (event.keyCode === 27) {\r\n                    Gallery.close();\r\n                }\r\n            });\r\n\r\n            // Do not initialize the DOM more than once\r\n            Gallery.initDom = function () {};\r\n        },\r\n\r\n        init: function () {\r\n            var links = document.querySelectorAll('.gallery[id] a');\r\n            Array.prototype.forEach.call(links, function (elem) {\r\n                elem.removeEventListener('click', Gallery.showEvent);\r\n                elem.addEventListener('click', Gallery.showEvent);\r\n            });\r\n\r\n            // Retrieve #image=name:pos in the URL\r\n            var start = document.location.hash.indexOf('image=');\r\n            if (start !== -1) {\r\n                var hash = document.location.hash;\r\n                var parts = hash.substr(start + 'image='.length).split(':');\r\n                var gallery = document.getElementById('gallery-' + parts[0]);\r\n                if (gallery) {\r\n                    var link = gallery.querySelectorAll('a')[parts[1] - 1];\r\n                    if (link) {\r\n                        // If we found the gallery and image, then show the gallery\r\n                        Gallery.show(link);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        getOffsetX: function (event) {\r\n            var offsetX = event.offsetX;\r\n            if (event.offsetX === undefined) {\r\n                // Using deprecated attributes on Firefox\r\n                offsetX = event.layerX;\r\n            }\r\n            var target = event.target;\r\n            while (target !== Gallery.dom.screen) {\r\n                offsetX += target.offsetLeft;\r\n                target = target.parentElement;\r\n            }\r\n            return offsetX;\r\n        },\r\n\r\n        isBottomBar: function (event) {\r\n            var target = event.target;\r\n            while (target !== Gallery.dom.screen) {\r\n                if (target === Gallery.dom.bottombar) {\r\n                    return true;\r\n                }\r\n                target = target.parentElement;\r\n            }\r\n            return false;\r\n        },\r\n        zoom: function(factor) {\r\n          var newScale = Gallery.currentScale * factor;\r\n          newScale = Math.max(1, Math.min(newScale, 10)); // Limita el zoom entre 1x y 3x\r\n          Gallery.setImageScale(newScale);\r\n        },\r\n\r\n        mousemove: function (event) {\r\n            // Highlight the Left or Right arrow\r\n            if (Gallery.isBottomBar(event) || event.target === Gallery.dom.fullscreen) {\r\n                Gallery.dom.left.className = 'gallery-left';\r\n                Gallery.dom.right.className = 'gallery-right';\r\n            } else if (Gallery.getOffsetX(event) < Gallery.width * Gallery.config.leftArea) {\r\n                Gallery.dom.left.className = 'gallery-left gallery-active';\r\n                Gallery.dom.right.className = 'gallery-right';\r\n            } else {\r\n                Gallery.dom.left.className = 'gallery-left';\r\n                Gallery.dom.right.className = 'gallery-right gallery-active';\r\n            }\r\n        },\r\n\r\n        click: function (event) {\r\n            if (Gallery.isBottomBar(event)) {\r\n                return;\r\n            } else if (Gallery.getOffsetX(event) < Gallery.width * Gallery.config.leftArea) {\r\n                Gallery.change(-1);\r\n            } else {\r\n                Gallery.change(+1);\r\n            }\r\n        },\r\n\r\n        change: function (delta) {\r\n            Gallery.current = mod(Gallery.current + delta, Gallery.images.length);\r\n            Gallery.update();\r\n        },\r\n\r\n        update: function () {\r\n            Gallery.dom.count.innerHTML = (Gallery.current + 1) + ' of ' + Gallery.images.length;\r\n            Gallery.dom.img.src = Gallery.images[Gallery.current].href;\r\n            Gallery.dom.original.href = Gallery.images[Gallery.current].href;\r\n            document.location.hash = 'image=' + Gallery.id + ':' + (Gallery.current + 1);\r\n            Gallery.dom.image.style.display = 'none';\r\n            Gallery.resize();\r\n\r\n            Gallery.dom.image.style.transform = 'translate(0px, 0px) scale(1)';\r\n            Gallery.currentScale = 1;\r\n\r\n            // Prefetch the next N image\r\n            for (var i = 0; i < Gallery.config.prefecth; ++i) {\r\n                var next = mod(Gallery.current + i + 1, Gallery.images.length);\r\n                new Image().src = Gallery.images[next];\r\n            }\r\n        },\r\n\r\n        fullscreen: function (event) {\r\n            goFullScreen(Gallery.dom.inner);\r\n            event.stopPropagation();\r\n        },\r\n\r\n        resize: function () {\r\n            if (isFullScreen()) {\r\n                // Make the gallery at the top left and full width/height\r\n                Gallery.dom.inner.style.left = '0';\r\n                Gallery.dom.inner.style.top = '0';\r\n                Gallery.width = window.innerWidth;\r\n                Gallery.height = window.innerHeight;\r\n\r\n                // Hide the full screen icon\r\n                Gallery.dom.fullscreen.style.display = 'none';\r\n            } else {\r\n                // The dimension must be (in order of priority)\r\n                // - At least the minimum dimensions\r\n                // - Keep a padding on the window\r\n                // - Equal or larger than the previous dimensions\r\n                // - The dimension of the image\r\n                Gallery.width = Math.max(\r\n                    Gallery.config.minWidth,\r\n                    Math.min(Math.max(Gallery.width, Gallery.dom.img.width),\r\n                        window.innerWidth - Gallery.config.horizontalPadding));\r\n                Gallery.height = Math.max(\r\n                    Gallery.config.minHeight,\r\n                    Math.min(Math.max(Gallery.height, Gallery.dom.img.height),\r\n                        window.innerHeight - Gallery.config.verticalPadding));\r\n\r\n                // Top left of inner initially is at the middle of the screen due to\r\n                // the CSS hack. Put a negative position to make it at the right spot\r\n                Gallery.dom.inner.style.left = (-Gallery.width / 2) + 'px';\r\n                Gallery.dom.inner.style.top = (-Gallery.height / 2) + 'px';\r\n\r\n                if (canFullScreen()) {\r\n                    // Show the full screen icon\r\n                    Gallery.dom.fullscreen.style.display = 'block';\r\n                }\r\n            }\r\n            Gallery.dom.inner.style.width = Gallery.width + 'px';\r\n            Gallery.dom.inner.style.height = Gallery.height + 'px';\r\n\r\n            // Find the image dimensions given the gallery size\r\n            var ratio = Gallery.dom.img.width / Gallery.dom.img.height;\r\n            var width, height;\r\n\r\n            if (Gallery.width < Gallery.dom.img.width || Gallery.height < Gallery.dom.img.height) {\r\n                // If the gallery is smaller than the image.\r\n                // Try to fit the image in the width and see what the height is\r\n                width = Gallery.width;\r\n                height = Gallery.width / ratio;\r\n\r\n                if (height > Gallery.height) {\r\n                    // If the height doesn't fit, then we should resize for height\r\n                    width = Gallery.height * ratio;\r\n                    height = Gallery.height;\r\n                }\r\n            } else {\r\n                // The gallery is large enough to hold the image, good!\r\n                width = Gallery.dom.img.width;\r\n                height = Gallery.dom.img.height;\r\n            }\r\n            Gallery.dom.image.width = width;\r\n            Gallery.dom.image.height = height;\r\n\r\n            // Move the image is the center of the gallery\r\n            Gallery.dom.image.style.left = (Gallery.width / 2 - width / 2) + 'px';\r\n            Gallery.dom.image.style.top = (Gallery.height / 2 - height / 2) + 'px';\r\n\r\n            // Update the height of the overlay\r\n            // Gallery.dom.overlay.style.height = window.innerHeight + 'px';\r\n            Gallery.dom.overlay.style.height = '100vh';\r\n        },\r\n\r\n        close: function () {\r\n            // Hide the gallery\r\n            Gallery.dom.overlay.style.display = 'none';\r\n            Gallery.dom.outer.style.display = 'none';\r\n\r\n            // Reset the minimal width/height the gallery can take\r\n            Gallery.width = 0;\r\n            Gallery.height = 0;\r\n\r\n            // Clean up\r\n            cancelFullScreen();\r\n            document.location.hash = '_';\r\n            Gallery.dom.img.src = '';\r\n        },\r\n\r\n        show: function (target) {\r\n            // Bubble up until we find the <a> that triggered the event\r\n            var link = target;\r\n            while (link.nodeName !== 'A') {\r\n                link = link.parentElement;\r\n            }\r\n\r\n            // Bubble up until we find the enclosing gallery\r\n            var gallery = target.parentElement;\r\n            while (gallery.className.indexOf('gallery') === -1) {\r\n                gallery = gallery.parentElement;\r\n            }\r\n\r\n            // Set up state\r\n            Gallery.id = gallery.id.replace(/^gallery-/, '');\r\n            Gallery.images = gallery.querySelectorAll('a');\r\n            Gallery.current = Array.prototype.indexOf.call(Gallery.images, link);\r\n\r\n            Gallery.initDom();\r\n            Gallery.update();\r\n\r\n            // Display the gallery\r\n            Gallery.dom.overlay.style.display = 'block';\r\n            Gallery.dom.outer.style.display = 'block';\r\n        },\r\n\r\n        showEvent: function (event) {\r\n            // Only left click\r\n            if (event.button !== 0 || event.ctrlKey || event.metaKey) {\r\n                return;\r\n            }\r\n\r\n            Gallery.show(event.target);\r\n\r\n            // Put it at the end so that it \"gracefully\" degrade if the browser sucks\r\n            event.preventDefault();\r\n        },\r\n        touchstart: function(event) {\r\n          Gallery.touchStartTime = new Date().getTime();\r\n          Gallery.touchStartX = event.touches[0].clientX;\r\n          Gallery.touchStartY = event.touches[0].clientY;\r\n          Gallery.lastTouchX = Gallery.touchStartX;\r\n          Gallery.lastTouchY = Gallery.touchStartY;\r\n          Gallery.isTouching = true;\r\n          Gallery.hasMoved = false;\r\n      \r\n          if (event.touches.length === 2) {\r\n            event.preventDefault();\r\n            Gallery.zooming = true;\r\n            Gallery.startDistance = Gallery.getDistance(event.touches[0], event.touches[1]);\r\n            Gallery.startScale = Gallery.currentScale || 1;\r\n          } else {\r\n            Gallery.zooming = false;\r\n            // Iniciar el arrastre continuo\r\n            Gallery.startDrag();\r\n          }\r\n        },\r\n      \r\n        touchmove: function(event) {\r\n          if (Gallery.zooming && event.touches.length === 2) {\r\n            event.preventDefault();\r\n            var newDistance = Gallery.getDistance(event.touches[0], event.touches[1]);\r\n            var scale = (newDistance / Gallery.startDistance) * Gallery.startScale;\r\n            Gallery.setImageScale(scale);\r\n          } else if (event.touches.length === 1) {\r\n            var touchMoveX = event.touches[0].clientX;\r\n            var touchMoveY = event.touches[0].clientY;\r\n            \r\n            Gallery.lastTouchX = touchMoveX;\r\n            Gallery.lastTouchY = touchMoveY;\r\n      \r\n            if (Math.abs(touchMoveX - Gallery.touchStartX) > 10 || Math.abs(touchMoveY - Gallery.touchStartY) > 10) {\r\n              Gallery.hasMoved = true;\r\n            }\r\n          }\r\n        },\r\n      \r\n        touchend: function(event) {\r\n          var touchEndTime = new Date().getTime();\r\n          var touchTime = touchEndTime - Gallery.touchStartTime;\r\n      \r\n          if (Gallery.zooming) {\r\n            Gallery.zooming = false;\r\n            Gallery.currentScale = Gallery.getImageScale();\r\n          } else if (!Gallery.hasMoved && touchTime < 300) {\r\n            // var touchEndX = event.changedTouches[0].clientX;\r\n            // if (touchEndX < Gallery.width * Gallery.config.leftArea) {\r\n            //   Gallery.change(-1);\r\n            // } else {\r\n            //   Gallery.change(+1);\r\n            // }\r\n          }\r\n      \r\n          Gallery.isTouching = false;\r\n          Gallery.hasMoved = false;\r\n          Gallery.stopDrag();\r\n        },\r\n      \r\n        startDrag: function() {\r\n          if (!Gallery.dragInterval) {\r\n            Gallery.dragInterval = setInterval(function() {\r\n              if (Gallery.isTouching && Gallery.currentScale > 1) {\r\n                var deltaX = Gallery.lastTouchX - Gallery.touchStartX;\r\n                var deltaY = Gallery.lastTouchY - Gallery.touchStartY;\r\n                Gallery.panImage(deltaX, deltaY);\r\n                Gallery.touchStartX = Gallery.lastTouchX;\r\n                Gallery.touchStartY = Gallery.lastTouchY;\r\n              }\r\n            }, 16); // Aproximadamente 60 FPS\r\n          }\r\n        },\r\n      \r\n        stopDrag: function() {\r\n          if (Gallery.dragInterval) {\r\n            clearInterval(Gallery.dragInterval);\r\n            Gallery.dragInterval = null;\r\n          }\r\n        },\r\n      \r\n        panImage: function(deltaX, deltaY) {\r\n          var img = Gallery.dom.image;\r\n          var rect = img.getBoundingClientRect();\r\n          var containerRect = Gallery.dom.screen.getBoundingClientRect();\r\n      \r\n          // Obtener la traslación actual\r\n          var currentTransform = img.style.transform || '';\r\n          var currentTranslate = currentTransform.match(/translate\\((.*?)\\)/) || ['', '0px, 0px'];\r\n          var [currentX, currentY] = currentTranslate[1].split(',').map(val => parseFloat(val) || 0);\r\n      \r\n          // Calcular la nueva posición\r\n          var newX = currentX + deltaX;\r\n          var newY = currentY + deltaY;\r\n      \r\n          // Calcular los límites de movimiento\r\n          var maxX = Math.max(0, (rect.width - containerRect.width) / 2);\r\n          var maxY = Math.max(0, (rect.height - containerRect.height) / 2);\r\n      \r\n          // Limitar el movimiento\r\n          newX = Math.max(-maxX, Math.min(newX, maxX));\r\n          newY = Math.max(-maxY, Math.min(newY, maxY));\r\n      \r\n          // Aplicar la nueva transformación\r\n          img.style.transform = `translate(${newX}px, ${newY}px) scale(${Gallery.currentScale})`;\r\n        },\r\n\r\n        setImageScale: function (scale) {\r\n            // scale = Math.max(1, Math.min(scale, 5)); // Limita el zoom entre 1x y 3x\r\n            Gallery.currentScale = scale;\r\n            var img = Gallery.dom.image;\r\n            var currentTransform = img.style.transform || '';\r\n            var currentTranslate = currentTransform.match(/translate\\((.*?)\\)/) || ['translate(0px, 0px)'];\r\n\r\n            img.style.transform = `${currentTranslate[0]} scale(${scale})`;\r\n\r\n            Gallery.updateZoomButtons();\r\n        },\r\n        updateZoomButtons: function() {\r\n          if (Gallery.currentScale <= 1) {\r\n            Gallery.dom.zoomOut.style.opacity = '0.5';\r\n            Gallery.dom.zoomOut.disabled = true;\r\n          } else {\r\n            Gallery.dom.zoomOut.style.opacity = '1';\r\n            Gallery.dom.zoomOut.disabled = false;\r\n          }\r\n      \r\n          if (Gallery.currentScale >= 10) {\r\n            Gallery.dom.zoomIn.style.opacity = '0.5';\r\n            Gallery.dom.zoomIn.disabled = true;\r\n          } else {\r\n            Gallery.dom.zoomIn.style.opacity = '1';\r\n            Gallery.dom.zoomIn.disabled = false;\r\n          }\r\n        },\r\n\r\n        change: function (delta) {\r\n            var nextIndex = mod(Gallery.current + delta, Gallery.images.length);\r\n            var nextImg = new Image();\r\n            nextImg.onload = function () {\r\n                Gallery.current = nextIndex;\r\n                Gallery.dom.image.src = nextImg.src;\r\n                Gallery.update();\r\n            };\r\n            nextImg.src = Gallery.images[nextIndex].href;\r\n        },\r\n\r\n        getDistance: function (touch1, touch2) {\r\n            var dx = touch1.clientX - touch2.clientX;\r\n            var dy = touch1.clientY - touch2.clientY;\r\n            return Math.sqrt(dx * dx + dy * dy);\r\n        },\r\n    };\r\n\r\n    document.addEventListener('DOMContentLoaded', Gallery.init);\r\n\r\n\r\n    // Utilities\r\n\r\n    // Full Screen\r\n\r\n    function canFullScreen() {\r\n        return document.body.webkitRequestFullScreen ||\r\n            document.body.requestFullScreen ||\r\n            document.body.mozRequestFullScreen;\r\n    }\r\n\r\n    function isFullScreen() {\r\n        return document.fullScreenElement ||\r\n            document.mozFullScreen ||\r\n            document.webkitIsFullScreen;\r\n    }\r\n\r\n    function goFullScreen(elem) {\r\n        if (elem.requestFullScreen) {\r\n            elem.requestFullScreen();\r\n        } else if (elem.mozRequestFullScreen) {\r\n            elem.mozRequestFullScreen();\r\n        } else if (elem.webkitRequestFullScreen) {\r\n            elem.webkitRequestFullScreen();\r\n        }\r\n    }\r\n\r\n    function cancelFullScreen() {\r\n        if (document.cancelFullScreen) {\r\n            document.cancelFullScreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n            document.mozCancelFullScreen();\r\n        } else if (document.webkitCancelFullScreen) {\r\n            document.webkitCancelFullScreen();\r\n        }\r\n    }\r\n\r\n\r\n    // Small DOM constructor\r\n\r\n    function e(name, className, parent) {\r\n        var elem = document.createElement(name);\r\n        parent.appendChild(elem);\r\n        if (className) {\r\n            elem.className = className;\r\n        }\r\n        return elem;\r\n    }\r\n\r\n    // Modulo that works with negative numbers\r\n\r\n    function mod(a, b) {\r\n        return ((a % b) + b) % b;\r\n    }\r\n\r\n})();\r\n"],"names":["canFullScreen","document","body","webkitRequestFullScreen","requestFullScreen","mozRequestFullScreen","e","name","className","parent","elem","createElement","appendChild","mod","a","b","Gallery","_defineProperty","dom","width","height","config","minWidth","minHeight","horizontalPadding","verticalPadding","leftArea","prefetch","initDom","overlay","addEventListener","close","outer","inner","screen","mousemove","click","left","right","image","fullscreen","style","display","bottombar","count","innerHTML","href","original","target","zoomControls","zoomIn","event","stopPropagation","zoom","zoomOut","img","onload","src","images","current","resize","touchstart","passive","touchmove","touchend","window","keyCode","change","init","links","querySelectorAll","Array","prototype","forEach","call","removeEventListener","showEvent","start","location","hash","indexOf","parts","substr","split","gallery","getElementById","link","show","getOffsetX","offsetX","undefined","layerX","offsetLeft","parentElement","isBottomBar","factor","newScale","currentScale","Math","max","min","setImageScale","delta","length","update","id","transform","i","prefecth","next","Image","fullScreenElement","mozFullScreen","webkitIsFullScreen","top","innerWidth","innerHeight","ratio","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","nodeName","replace","button","ctrlKey","metaKey","preventDefault","touchStartTime","Date","getTime","touchStartX","touches","clientX","touchStartY","clientY","lastTouchX","lastTouchY","isTouching","hasMoved","zooming","startDistance","getDistance","startScale","startDrag","scale","touchMoveX","touchMoveY","abs","getImageScale","stopDrag","dragInterval","setInterval","deltaX","deltaY","panImage","clearInterval","rect","getBoundingClientRect","containerRect","_currentTranslate$1$s2","_slicedToArray","match","map","val","parseFloat","newX","newY","maxX","maxY","concat","currentTranslate","updateZoomButtons","opacity","disabled","nextIndex","nextImg","touch1","touch2","dx","dy","sqrt"],"sourceRoot":""}